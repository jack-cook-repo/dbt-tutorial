version: 2

models:
  - name: customers
    description: "One record per customer"
    columns:
      - name: customer_id
        description: '{{ doc("customer_id") }}'
        tests:
          - unique
          - not_null
      - name: first_order_date
        description: "NULL when a customer has not yet placed an order."
      - name: most_recent_order_date
        tests:
          - on_or_after_date:
              start_date: first_order_date
